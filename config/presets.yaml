# =====================================================================
# xxh视频压制工具 - 预设配置文件
# 注意：缩进必须严格对齐，冒号后面必须有一个空格！
# =====================================================================
# 📘 开发者预设配置指南 (完整版)
# ---------------------------------------------------------------------
# 1. name:     预设在下拉菜单中显示的名称。
# 2. requires: 核心匹配词。代码会自动在【自检可用列表】中寻找包含此词的硬件引擎。
#              例如 "av1" 会匹配 "av1_nvenc" 或 "av1_qsv"。
# 3. ui_state: 定义当该预设被选中时，UI 控件应如何自动“拨动”：
#    - v_enc:    (自动填入) 视频编码器，由 requires 匹配逻辑决定。
#    - fps:      帧率。必须匹配下拉菜单中的现有字符串（如 "24", "30", "60", "保持源"）。
#    - res:      分辨率。必须匹配下拉菜单中的现有字符串（如 "720p", "1080p", "保持源"）。
#    - rc:       码率控制模式。可选 "cqp", "vbr", "cbr"。
#    - val:      控制数值。
#                - CQP 模式下：填 0-51（越小画质越好）。
#                - VBR/CBR 模式下：填目标码率整数（单位为 kbps，如 5000）。
#    - a_enc:    音频编码器。必须匹配下拉菜单字符串（如 "aac", "mp3", "copy", "an (剥离静音)"）。
#    - a_bit:    音频码率。必须匹配下拉菜单字符串（如 "128k", "192k", "320k"）。
#    - a_sample: 音频采样率。必须匹配下拉菜单字符串（如 "44100", "48000", "保持源"）。
#
# ✨ 优势：此处配置后，点击开始时会自动通过 build_ffmpeg_args() 的翻译引擎
#          生成适配当前硬件环境的精准 FFmpeg 命令。
# =====================================================================

presets:
  - name: "会议录屏极致瘦身 (AV1, 30帧, CQP)"
    requires: "av1"
    ui_state:
      fps: "24"
      res: "保持源"
      rc: "cqp"
      val: 45
      a_enc: "aac"
      a_bit: "128k"
      a_sample: "保持源"

  - name: "高画质收藏版 (HEVC/H.265, VBR)"
    requires: "hevc"
    ui_state:
      fps: "保持源"
      res: "保持源"
      rc: "vbr"
      val: 5000
      a_enc: "aac"
      a_bit: "320k"
      a_sample: "保持源"

  - name: "老设备高兼容版 (H.264, CBR)"
    requires: "264"
    ui_state:
      fps: "保持源"
      res: "保持源"
      rc: "cbr"
      val: 2000
      a_enc: "aac"
      a_bit: "192k"
      a_sample: "保持源"

  - name: "压片战争最小视频 (HEVC/H.265, VBR)"
    requires: "x265"
    ui_state:
      fps: "24"
      res: "720p"
      rc: "vbr"
      val: 100
      a_enc: "aac"
      a_bit: "64k"
      a_sample: "保持源"